<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Src hospital</title>
    <link rel="stylesheet" href="hospRegFormCSS.css">
</head>
<body>
    <div class="register">
    <div class="hosp-icon">
        <h3 class="heading">New Patient Register Form</h3>
        <div class="container">
            <img src="images/surgeon.jpg" alt="Icon" class="icon">
        </div>
        <p>Are you a new Patient? <a href="hospitalFormGeg.html">Register Here</a>.</p>
    </div>
    <div class="form">
        <form>
            <label>patient's name:</label><span style="color: red;">*</span><br>
            <div class="flex">
                <div>
                    <input type="text" name="fname" placeholder="first">
                    <div class="fnameError"></div>
                </div>
         <div>
            <input type="text" name="lname" placeholder="last">
            <div class="lnameError"></div><br>
         </div>
       
        </div>
            <label>patient's DOB:</label><span style="color: red;">*</span><br>
            
            <input type="date" name="dob" placeholder="DOB">
            <div class="dobError"></div><br>

            
            <label>patient's phone number:</label><span style="color: red;" >*</span><br>
            <input type="tel" name="mobile" placeholder="mobile number" pattern="">
            <div class="mobileError"></div><br>


            <label>patient's address:</label><span style="color: red;">*</span><br>
            <textarea name="address" placeholder="enter your address" cols="20px" rows="5px"></textarea>
            <div class="addressError"></div><br>


            <label>please list any medicines your are currently taking:</label><span style="color: red;">*</span><br>
            <textarea name="medicines" placeholder="enter here...."  cols="20px" rows="5px"></textarea>
            <div class="medError"></div><br>


            <label>please list any any allergies if you have:</label><span style="color: red;">*</span><br>
            <textarea name="allergies" placeholder="enter here...."  cols="20px" rows="5px"></textarea>
            <div class="allergiesError"></div><br>

            
            <label>do you consume alcohol:</label><span style="color: red;">*</span><br>
            <label for="alco-yes">YES</label><input type="radio" name="alcohol" value="yes" id="alco-yes">
            <label for="alco-no">NO</label><input type="radio" name="alcohol" value="no" id="alco-no">
            <div class="alcoError"></div><br>

            <button>submit</button>
        </form>
    </div>
</div>
<script>
let btn=document.querySelector('button');
const selectElement=(selector,message)=>{
    let data = document.querySelector(selector)
    return (data == null || data.value == "") ? message : data.value
}
const validate=(selector,value)=>{
    let validateValue=value
    let reg=/^[a-zA-Z]+$/;
    if(validateValue==undefined || !reg.test(validateValue)){
        let fvalue=document.querySelector(selector);
        fvalue.innerHTML="check the field!"
        fvalue.style.color='red'
        fvalue.style.fontSize='12px'
        return validateValue="not entered"
    }
    else{       
        let fvalue=document.querySelector(selector);
        fvalue.innerHTML=""
        return validateValue
    }
}
function validateMobile(selector,value){
    let validateValue=value
    let reg=/[0-9]{10}/
    if(validateValue==undefined || !reg.test(validateValue) ){
        let fvalue=document.querySelector(selector);
        fvalue.innerHTML="check the field!"
        fvalue.style.color='red'
        fvalue.style.fontSize='12px'
        return validateValue="not entered"
    }
    else{
        
            let fvalue=document.querySelector(selector);
            fvalue.innerHTML=""
            return validateValue
        
    }
}
btn.addEventListener('click',(event)=>{
    event.preventDefault()
    fname=selectElement('input[name="fname"]')
    console.log('fname:',validate('.fnameError',fname))

    lname=selectElement('input[name="lname"]')
    // console.log(lname)
    console.log('lname:',validate('.lnameError',lname))


    dob=selectElement('input[name="dob"]')
    console.log('DOB:',validate('.dobError',dob))

    mobile=selectElement('input[name="mobile"]')
    console.log('mobile:',validateMobile('.mobileError',mobile))

    address=selectElement('textarea[name="address"]')
    console.log('address:',validate('.addressError',address))

    medicines=selectElement('textarea[name="medicines"]')
    console.log('mobile:',validate('.medError',medicines))

    allergies=selectElement('textarea[name="allergies"]')
    console.log('allergies:',validate('.allergiesError',allergies))

    alcohol=selectElement('input[name="alcohol"]:checked')
    console.log('alcohol:',validate('.alcoError',alcohol))

})
</script>
</body>
</html>